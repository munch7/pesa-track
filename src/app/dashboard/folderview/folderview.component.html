<h3>{{ folderId }}</h3>
<h4>Total: {{ getTotalAmount() }}</h4>
<button (click)="closeFolder()">Close Folder</button>

<!-- Form only appears if today's folder -->
<div *ngIf="isToday; else readOnly">
  <form (ngSubmit)="addEntry()" #entryForm="ngForm">
    <input [(ngModel)]="name" name="name" placeholder="Name" required />
    <input [(ngModel)]="amount" name="amount" type="number" placeholder="Amount" required />
    <input [(ngModel)]="note" name="note" placeholder="Note" required />
    <button type="submit" [disabled]="entryForm.invalid">Add Entry</button>
  </form>
</div>

<ng-template #readOnly>
  <p><em>This folder is read-only. You can only add entries for todayâ€™s folder.</em></p>
</ng-template>

<hr />

<ul>
  <li *ngFor="let entry of entries">
    <div *ngIf="editingEntryId !== entry.id">
      {{ entry.name }} - {{ entry.amount }} - {{ entry.note }}
      <button class="ic" (click)="startEditing(entry)">Edit</button>
      <button class="ic" (click)="deleteEntry(entry.id)">Delete</button>
    </div>

    <div *ngIf="editingEntryId === entry.id">
      <input [(ngModel)]="editName" placeholder="Name" />
      <input type="number" [(ngModel)]="editAmount" placeholder="Amount" />
      <input [(ngModel)]="editNote" placeholder="Note" />
      <button class="ic" (click)="saveEntry()">Save</button>
      <button class="ic" (click)="cancelEditing()">Cancel</button>
    </div>
  </li>
</ul>

